<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="color-scheme" content="dark light" />

    <title>ViewerFrenzy â€“ Streamer Users</title>
    <meta name="description" content="ViewerFrenzy â€“ Streamer user list." />

    <link rel="stylesheet" href="/styles/app.css" />

    <script src="/config.js" defer></script>
    <script type="module" src="/js/page-common.js" defer></script>
    <script type="module" src="/js/streamer-users-page.js" defer></script>
  </head>

  <body data-page="streamer">
    <header class="vf-topbar">
      <button id="vf-menuBtn" class="vf-iconBtn" aria-label="Open menu" title="Menu" type="button">
        <span aria-hidden="true">â˜°</span>
      </button>

      <div class="vf-topbarTitle" role="heading" aria-level="1">
        <a href="/mainmenu.html" class="vf-link" style="color: inherit; text-decoration: none;">ViewerFrenzy</a>
      </div>

      <div class="vf-userChip" id="vf-userChip" hidden>
        <img id="vf-userAvatar" class="vf-userAvatar" alt="" />
        <div class="vf-userName" id="vf-userName">...</div>
      </div>
    </header>

    <aside id="vf-sidenav" class="vf-sidenav" aria-hidden="true">
      <div class="vf-sidenavHeader">
        <div class="vf-brandSmall">
          <div class="vf-brandMarkSmall" aria-hidden="true">VF</div>
          <div>
            <div class="vf-sidenavTitle">Menu</div>
            <div class="vf-sidenavSub" id="vf-sidenavSub">Not signed in</div>
          </div>
        </div>
        <button id="vf-closeMenuBtn" class="vf-iconBtn" aria-label="Close menu" title="Close" type="button">
          <span aria-hidden="true">âœ•</span>
        </button>
      </div>

      <nav class="vf-nav">
        <a class="vf-navItem" href="/mainmenu.html" data-route="home">
          <span class="vf-navIcon" aria-hidden="true">ğŸ </span>
          <span>Home</span>
        </a>

        <a class="vf-navItem" href="/garage.html" data-route="garage">
          <span class="vf-navIcon" aria-hidden="true">ğŸ› ï¸</span>
          <span>Garage</span>
        </a>

        <a class="vf-navItem" href="/stats.html" data-route="stats">
          <span class="vf-navIcon" aria-hidden="true">ğŸ†</span>
          <span>Stats</span>
        </a>

        <a class="vf-navItem" href="/streamer.html" data-route="streamer" data-requires="streamer" hidden>
          <span class="vf-navIcon" aria-hidden="true">ğŸ¥</span>
          <span>Streamer</span>
        </a>

        <a class="vf-navItem" href="/achievements.html" data-route="achievements">
          <span class="vf-navIcon" aria-hidden="true">ğŸ–ï¸</span>
          <span>Achievements</span>
        </a>

        <a class="vf-navItem" href="/charactercreator.html" data-route="character">
          <span class="vf-navIcon" aria-hidden="true">ğŸ§‘â€ğŸ¨</span>
          <span>Character Creator</span>
          <span class="vf-pill">Soon</span>
        </a>

        <a class="vf-navItem" href="/logout.html" data-route="logout">
          <span class="vf-navIcon" aria-hidden="true">ğŸšª</span>
          <span>Logout</span>
        </a>
      </nav>

      <div class="vf-sidenavFooter">
        <div class="vf-small vf-muted">
          API healthcheck:
          <a class="vf-link" href="/healthcheck" target="_blank" rel="noopener">/healthcheck</a>
        </div>
      </div>
    </aside>

    <div id="vf-backdrop" class="vf-backdrop" hidden></div>

    <main id="vf-main" class="vf-main" tabindex="-1">
      <div class="vf-container">
        <h1 class="vf-h1">Streamer Users</h1>

        <div class="vf-card" style="margin-top: 12px">
          <div class="vf-muted" style="margin-bottom: 10px">
            These are viewers who have joined your competitions.
          </div>

          <div class="vf-controlsGrid" style="margin-bottom: 10px">
            <div class="vf-field" style="min-width: min(420px, 100%)">
              <div class="vf-fieldLabel">Add user (Twitch login or numeric user id)</div>
              <input id="vf-addUserInput" class="vf-input" type="text" placeholder="example: someviewer" autocomplete="off" />
            </div>

            <button id="vf-addUserBtn" class="vf-btn" type="button">Add</button>
            <button id="vf-refreshBtn" class="vf-btn" type="button">Refresh</button>
          </div>

          <div id="vf-addUserMsg" class="vf-alert" hidden></div>
        </div>

        <div class="vf-card" style="margin-top: 12px">
          <div class="vf-row" style="justify-content: space-between; align-items: center; gap: 10px">
            <div>
              <div class="vf-h2" style="margin: 0">Users</div>
              <div class="vf-small vf-muted" id="vf-userCount">Loadingâ€¦</div>
            </div>
          </div>

          <div class="vf-tableWrap" style="margin-top: 10px">
            <table class="vf-table vf-tableAuto">
              <thead>
                <tr>
                  <th>Display Name</th>
                  <th>Login</th>
                  <th>User ID</th>
                  <th>First Joined</th>
                  <th>Last Joined</th>
                  <th></th>
                </tr>
              </thead>
              <tbody id="vf-usersTbody">
                <tr><td colspan="6" class="vf-muted">Loadingâ€¦</td></tr>
              </tbody>
            </table>
          </div>

          <div class="vf-small vf-muted" style="margin-top: 10px">
            Removing a user here only removes them from <b>your</b> streamer list. It does not delete the global user record.
          </div>
        </div>
      </div>
    </main>

    <div id="vf-toast" class="vf-toast" hidden></div>
  </body>
</html>
